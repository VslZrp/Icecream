(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,r=function(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,"string");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===t(r)?r:String(r)),i)}var r}const n=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=Object.assign({init:!0},e),this.config.init){var n=document.querySelectorAll("[data-prlx-mouse]");n.length&&this.init(n)}}var n,o;return n=t,o=[{key:"init",value:function(t){t.forEach((function(t){var e=t.closest("[data-prlx-mouse-wrapper]"),n=t.dataset.prlxCx?Number(t.dataset.prlxCx):100,o=t.dataset.prlxCy?Number(t.dataset.prlxCy):100,i=t.hasAttribute("data-prlx-dxr")?-1:1,r=t.hasAttribute("data-prlx-dyr")?-1:1,c=t.dataset.prlxA?Number(t.dataset.prlxA):50,l=0,s=0,a=0,u=0;function d(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).addEventListener("mousemove",(function(e){var n=e.clientX,o=e.clientY,i=t.getBoundingClientRect().top+window.scrollY;if(i>=window.scrollY||i+t.offsetHeight>=window.scrollY){var r=window.innerWidth,c=window.innerHeight;a=(n-r/2)/r*100,u=(o-c/2)/c*100}}))}!function e(){var d=i*(l+=(a-l)*c/1e3)/(n/10),f=r*(s+=(u-s)*c/1e3)/(o/10);t.style.transform="translate3D(".concat(d,"%, ").concat(f,"%, 0)"),requestAnimationFrame(e)}(),e?d(e):d()}))}}],o&&e(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===o(e)?e:String(e)}var c,l,s,a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"isAndroid",get:function(){return Boolean(this.userAgent.match(/Android/i))}},{key:"isBlackBerry",get:function(){return Boolean(this.userAgent.match(/BlackBerry/i))}},{key:"isAppleOS",get:function(){return Boolean(this.userAgent.match(/iPhone|iPad|iPod/i))}},{key:"isOpera",get:function(){return Boolean(this.userAgent.match(/Opera Mini/i))}},{key:"isWindows",get:function(){return Boolean(this.userAgent.match(/IEMobile/i))}},{key:"isAny",get:function(){return t.isAndroid||t.isBlackBerry||t.isAppleOS||t.isOpera||t.isWindows}}],null&&i(e.prototype,null),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();c=a,l="userAgent",s=navigator.userAgent,(l=r(l))in c?Object.defineProperty(c,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[l]=s;const u=a;function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,p(o.key),o)}}function m(t,e,n){return(e=p(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"checkWebpSupport",value:function(){var t,e,n=this;t=function(t){var e=t?"webp":"no-webp";n.html.classList.add(e),console.log(t?"webp поддерживается":"webp не поддерживается")},(e=new Image).onload=e.onerror=function(){return t(2===e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}},{key:"addTouchClass",value:function(){u.isAny?this.html.classList.add("touch"):this.html.classList.add("pc")}},{key:"addLoadedClass",value:function(){var t=this;window.addEventListener("load",(function(){setTimeout((function(){t.html.classList.add("loaded")}),600)}))}},{key:"getHash",get:function(){var t;return null===(t=location.hash)||void 0===t?void 0:t.replace("#","")}},{key:"setHash",value:function(t){t=t?"#".concat(t):location.href.split("#")[0],history.pushState("","",t)}},{key:"headerFixed",value:function(){var t=this,e=new IntersectionObserver((function(e){var n,o,i=(n=e,o=1,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,i,r,c,l=[],s=!0,a=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=r.call(n)).done)&&(l.push(o.value),l.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(a)throw i}}return l}}(n,o)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];t.html.classList.toggle("header-is-sticky",!i.isIntersecting)}));this.firstScreen&&e.observe(this.firstScreen)}}],null&&y(e.prototype,null),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();m(g,"html",document.documentElement),m(g,"header",document.querySelector(".header")),m(g,"firstScreen",document.querySelector("[data-observ]"));const v=g;function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,w(o.key),o)}}function w(t){var e=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==b(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===b(e)?e:String(e)}const S=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"documentEventListener",value:function(){var t=document.querySelector("main");function e(){window.innerHeight>window.innerWidth?document.querySelector("body").classList.add("high"):document.querySelector("body").classList.contains("high")&&document.querySelector("body").classList.remove("high")}document.addEventListener("DOMContentLoaded",(function(e){setTimeout((function(){window.scrollTo({top:0,behavior:"instant"})}),"500"),t.className="page",t.classList.add("section-1")})),window.addEventListener("resize",(function(t){e()})),e()}}],null&&h(e.prototype,null),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,B(o.key),o)}}function B(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==L(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===L(e)?e:String(e)}const T=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"navigation",value:function(){var t,e=document.querySelector("main"),n=document.querySelector(".what-if"),o=document.querySelector(".ice-cream"),i=document.querySelector(".could-be"),r=document.querySelector(".tall-icecream"),c=r.querySelector(".tall-icecream__overflow"),l=Number(window.getComputedStyle(document.getElementById("text-blank")).width.replace("px","")),s=document.querySelector(".button-back"),a=document.querySelector(".drag__button"),u=Number(window.getComputedStyle(a).top.replace("px","")),d=document.querySelector(".drag__tip");function f(){window.scrollTo({top:o.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),o.scrollTo(0,1),e.className="page",e.classList.add("section-2"),s.style.opacity=1}function y(){window.scrollTo({top:i.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),i.scrollTo(0,1),e.className="page",e.classList.add("section-3")}function m(){window.scrollTo({top:r.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),r.scrollTo(0,1),e.className="page",e.classList.add("section-4"),e.classList.add("section-5")}function p(){window.scrollTo({top:n.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),n.scrollTo(0,0),e.className="page",e.classList.add("section-1"),s.style.opacity=0}function g(){window.scrollTo({top:o.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),o.scrollTo(0,1),e.className="page",e.classList.add("section-2")}function v(){window.scrollTo({top:i.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),i.scrollTo(0,1),e.className="page",e.classList.add("section-3")}function b(){a.style.transition="0.3s",a.classList.add("end"),setTimeout((function(){a.classList.remove("end")}),"300"),a.classList.contains("active")&&a.classList.remove("active"),a.getBoundingClientRect().top>=window.innerHeight/2-40?(a.style.top=window.innerHeight-80-u+"px",a.style.rotate="-180deg",r.scrollTo({top:c.clientHeight-window.innerHeight,behavior:"smooth"})):(a.style.top=u+"px",a.style.rotate="0deg",r.scrollTo({top:1,behavior:"smooth"}))}document.documentElement.classList.contains("pc")&&(n.addEventListener("scroll",(function(t){-1==n.querySelector(".overflow").getBoundingClientRect().top&&f()})),o.addEventListener("scroll",(function(t){-2==o.querySelector(".overflow").getBoundingClientRect().top?y():0==o.querySelector(".overflow").getBoundingClientRect().top&&p()})),i.addEventListener("scroll",(function(t){-2==i.querySelector(".overflow").getBoundingClientRect().top?m():0==i.querySelector(".overflow").getBoundingClientRect().top&&g()}))),r.addEventListener("scroll",(function(t){0==c.getBoundingClientRect().top&&v();var e=c.getBoundingClientRect().top/(c.clientHeight-window.innerHeight);if(document.querySelector(".super__text h2").style.marginTop=c.getBoundingClientRect().top/4+"px",document.querySelector(".super__text h2").style.opacity=1+e,s.style.opacity=1+1.5*e,document.querySelector(".super__text-bg").style.transform="translate(-50%, 0) rotate("+150*e+"deg)",document.querySelector(".clouds__image_top-left img").style.marginLeft=.833333*e+"vw",document.querySelector(".clouds__image_top-right img").style.marginLeft=-2.5*e+"vw",!document.body.classList.contains("high")){var n=document.querySelector(".clouds__image_bottom-left img");n.style.marginLeft=-7*e+"vw",n.style.marginTop=-23*e+"vh",n.style.width=85.5+28*e+"vw";var o=document.querySelector(".clouds__image_bottom-right img");o.style.marginLeft=-8*e+"vw",o.style.marginTop=-22*e+"vh",o.style.width=90+30*e+"vw"}document.body.classList.contains("high")?document.getElementById("text-blank").style.left=window.innerWidth+(1.05*window.innerWidth+l)*e+"px":document.getElementById("text-blank").style.left=.45*window.innerHeight+.5*window.innerWidth+(window.innerWidth+l)*e+"px",document.getElementById("text-solid").style.left=document.getElementById("text-blank").style.left,s.style.visibility=e<-2/3?"hidden":"visible",c.getBoundingClientRect().top==window.innerHeight-c.clientHeight?document.querySelector(".finish").classList.add("visible"):document.querySelector(".finish").classList.contains("visible")&&document.querySelector(".finish").classList.remove("visible"),a.classList.contains("active")||a.classList.contains("end")||(a.style.top=u-(window.innerHeight-80-2*u)*e+"px",a.style.rotate=180*e+"deg"),d.classList.contains("visible")&&r.scrollTop>80&&d.classList.remove("visible")})),s.addEventListener("click",(function(t){t.preventDefault(),e.classList.contains("section-2")?p():e.classList.contains("section-3")?g():e.classList.contains("section-5")&&v(),e.classList.contains("section-1")&&(s.style.opacity=0)})),s.addEventListener("mouseover",(function(t){e.classList.contains("section-5")&&(s.style.opacity=1)})),s.addEventListener("mouseleave",(function(t){e.classList.contains("section-5")&&(s.style.opacity=1+c.getBoundingClientRect().top/(c.clientHeight-window.innerHeight)*1.5)})),document.addEventListener("click",(function(t){t.target.closest(".button-back")||t.target.closest(".drag__button")||(e.classList.contains("section-1")?f():e.classList.contains("section-2")?y():e.classList.contains("section-3")&&m()),t.target.closest(".finish__button")&&location.reload()})),document.documentElement.classList.contains("pc")?(a.onmousedown=function(t){var e=t.clientY-a.getBoundingClientRect().top;a.classList.add("active"),a.style.transition="none",document.onmousemove=function(t){!function(t){if(a.classList.contains("active")){var n,o=(a.getBoundingClientRect().top-u)/(window.innerHeight-2*u-80);n=o<0?-1*o:o,r.scrollTop=(c.clientHeight-window.innerHeight)*n+5,a.style.rotate=-180*n+"deg",a.getBoundingClientRect().bottom>window.innerHeight-u+5?a.style.top=window.innerHeight-u-80:a.getBoundingClientRect().top<u-5?a.style.top=u:a.style.top=t.clientY-e+"px"}}(t)},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,b()}},a.ondragstart=function(){return!1}):document.documentElement.classList.contains("touch")&&(a.ontouchstart=function(t){var e=t.targetTouches[0].clientY-a.getBoundingClientRect().top;a.classList.add("active"),a.style.transition="none",document.ontouchmove=function(t){!function(t){if(a.classList.contains("active")){var n,o=(a.getBoundingClientRect().top-u)/(window.innerHeight-2*u-80);n=o<0?-1*o:o,r.scrollTop=(c.clientHeight-window.innerHeight)*n+5,a.style.rotate=-180*n+"deg",a.style.top=t.targetTouches[0].clientY-e+"px",(a.getBoundingClientRect().bottom>=window.innerHeight-u||a.getBoundingClientRect().top<=u)&&a.classList.remove("active")}}(t)},document.ontouchend=function(){document.ontouchmove=null,document.ontouchend=null,b()}},a.ondragstart=function(){return!1}),document.documentElement.classList.contains("pc")&&r.addEventListener("mousedown",(function(t){console.log(t.target),e.classList.contains("section-5")&&r.scrollTop<=10&&!t.target.closest(".button-back")&&!t.target.closest(".drag__button")&&d.classList.toggle("visible")})),document.documentElement.classList.contains("touch")&&(e.classList.contains("section-1")?(document.ontouchstart=function(e){t=e.targetTouches[0].clientY},document.ontouchend=function(e){e.targetTouches[0].clientY>t&&f()}):e.classList.contains("section-2")?(document.ontouchstart=function(e){t=e.targetTouches[0].clientY},document.ontouchend=function(e){e.targetTouches[0].clientY>t?y():e.targetTouches[0].clientY<t&&p()}):e.classList.contains("section-3")&&(-2==i.querySelector(".overflow").getBoundingClientRect().top?m():0==i.querySelector(".overflow").getBoundingClientRect().top&&g()))}}],null&&C(e.prototype,null),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,k(o.key),o)}}function k(t){var e=function(t,e){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==A(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===A(e)?e:String(e)}const q=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"windowHeight",value:function(){document.documentElement.classList.contains("touch")&&document.addEventListener("DOMContentLoaded",(function(t){var e=document.querySelectorAll("[data-fullscreen]");if(e.length>0)for(var n=0;n<e.length;n++)e[n].style.height=window.innerHeight+"px",e[n].classList.contains("what-if")?e[n].querySelector(".overflow").style.height=window.innerHeight+1+"px":e[n].querySelector(".overflow").style.height=window.innerHeight+2+"px"}))}}],null&&E(e.prototype,null),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();v.checkWebpSupport(),v.addTouchClass(),v.addLoadedClass(),v.headerFixed(),S.documentEventListener(),T.navigation(),q.windowHeight(),document.documentElement.classList.contains("pc")&&new n})();
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,r=function(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,"string");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===t(r)?r:String(r)),i)}var r}const n=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=Object.assign({init:!0},e),this.config.init){var n=document.querySelectorAll("[data-prlx-mouse]");n.length&&this.init(n)}}var n,o;return n=t,o=[{key:"init",value:function(t){t.forEach((function(t){var e=t.closest("[data-prlx-mouse-wrapper]"),n=t.dataset.prlxCx?Number(t.dataset.prlxCx):100,o=t.dataset.prlxCy?Number(t.dataset.prlxCy):100,i=t.hasAttribute("data-prlx-dxr")?-1:1,r=t.hasAttribute("data-prlx-dyr")?-1:1,c=t.dataset.prlxA?Number(t.dataset.prlxA):50,s=0,l=0,a=0,u=0;function d(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).addEventListener("mousemove",(function(e){var n=e.clientX,o=e.clientY,i=t.getBoundingClientRect().top+window.scrollY;if(i>=window.scrollY||i+t.offsetHeight>=window.scrollY){var r=window.innerWidth,c=window.innerHeight;a=(n-r/2)/r*100,u=(o-c/2)/c*100}}))}!function e(){var d=i*(s+=(a-s)*c/1e3)/(n/10),y=r*(l+=(u-l)*c/1e3)/(o/10);t.style.transform="translate3D(".concat(d,"%, ").concat(y,"%, 0)"),requestAnimationFrame(e)}(),e?d(e):d()}))}}],o&&e(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===o(e)?e:String(e)}var c,s,l,a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"isAndroid",get:function(){return Boolean(this.userAgent.match(/Android/i))}},{key:"isBlackBerry",get:function(){return Boolean(this.userAgent.match(/BlackBerry/i))}},{key:"isAppleOS",get:function(){return Boolean(this.userAgent.match(/iPhone|iPad|iPod/i))}},{key:"isOpera",get:function(){return Boolean(this.userAgent.match(/Opera Mini/i))}},{key:"isWindows",get:function(){return Boolean(this.userAgent.match(/IEMobile/i))}},{key:"isAny",get:function(){return t.isAndroid||t.isBlackBerry||t.isAppleOS||t.isOpera||t.isWindows}}],null&&i(e.prototype,null),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();c=a,s="userAgent",l=navigator.userAgent,(s=r(s))in c?Object.defineProperty(c,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[s]=l;const u=a;function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,p(o.key),o)}}function m(t,e,n){return(e=p(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"checkWebpSupport",value:function(){var t,e,n=this;t=function(t){var e=t?"webp":"no-webp";n.html.classList.add(e),console.log(t?"webp поддерживается":"webp не поддерживается")},(e=new Image).onload=e.onerror=function(){return t(2===e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}},{key:"addTouchClass",value:function(){u.isAny?this.html.classList.add("touch"):this.html.classList.add("pc")}},{key:"addLoadedClass",value:function(){var t=this;window.addEventListener("load",(function(){setTimeout((function(){t.html.classList.add("loaded")}),600)}))}},{key:"getHash",get:function(){var t;return null===(t=location.hash)||void 0===t?void 0:t.replace("#","")}},{key:"setHash",value:function(t){t=t?"#".concat(t):location.href.split("#")[0],history.pushState("","",t)}},{key:"headerFixed",value:function(){var t=this,e=new IntersectionObserver((function(e){var n,o,i=(n=e,o=1,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,i,r,c,s=[],l=!0,a=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=r.call(n)).done)&&(s.push(o.value),s.length!==e);l=!0);}catch(t){a=!0,i=t}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(a)throw i}}return s}}(n,o)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];t.html.classList.toggle("header-is-sticky",!i.isIntersecting)}));this.firstScreen&&e.observe(this.firstScreen)}}],null&&f(e.prototype,null),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();m(g,"html",document.documentElement),m(g,"header",document.querySelector(".header")),m(g,"firstScreen",document.querySelector("[data-observ]"));const v=g;function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,h(o.key),o)}}function h(t){var e=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==b(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===b(e)?e:String(e)}const S=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"documentEventListener",value:function(){var t=document.querySelector("main");function e(){window.innerHeight>window.innerWidth?document.querySelector("body").classList.add("high"):document.querySelector("body").classList.contains("high")&&document.querySelector("body").classList.remove("high")}document.addEventListener("DOMContentLoaded",(function(e){setTimeout((function(){window.scrollTo({top:0,behavior:"instant"})}),"500"),t.className="page",t.classList.add("section-1")})),window.addEventListener("resize",(function(t){e()})),e()}}],null&&w(e.prototype,null),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,E(o.key),o)}}function E(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==L(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===L(e)?e:String(e)}const T=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"navigation",value:function(){var t=document.querySelector("main"),e=document.querySelector(".what-if"),n=document.querySelector(".ice-cream"),o=document.querySelector(".could-be"),i=document.querySelector(".tall-icecream"),r=i.querySelector(".tall-icecream__overflow"),c=Number(window.getComputedStyle(document.getElementById("text-blank")).width.replace("px","")),s=document.querySelector(".button-back"),l=document.querySelector(".drag__button"),a=Number(window.getComputedStyle(l).top.replace("px","")),u=document.querySelector(".drag__tip");function d(){window.scrollTo({top:n.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),n.scrollTo(0,1),t.className="page",t.classList.add("section-2"),s.style.opacity=1}function y(){window.scrollTo({top:o.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),o.scrollTo(0,1),t.className="page",t.classList.add("section-3")}function f(){window.scrollTo({top:i.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),i.scrollTo(0,1),t.className="page",t.classList.add("section-4"),t.classList.add("section-5")}function m(){window.scrollTo({top:e.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),e.scrollTo(0,0),t.className="page",t.classList.add("section-1"),s.style.opacity=0}function p(){window.scrollTo({top:n.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),n.scrollTo(0,1),t.className="page",t.classList.add("section-2")}function g(){window.scrollTo({top:o.getBoundingClientRect().top+window.scrollY,behavior:"instant"}),o.scrollTo(0,1),t.className="page",t.classList.add("section-3")}if(document.documentElement.classList.contains("pc")&&(e.addEventListener("scroll",(function(t){-1==e.querySelector(".overflow").getBoundingClientRect().top&&d()})),n.addEventListener("scroll",(function(t){-2==n.querySelector(".overflow").getBoundingClientRect().top?y():0==n.querySelector(".overflow").getBoundingClientRect().top&&m()})),o.addEventListener("scroll",(function(t){-2==o.querySelector(".overflow").getBoundingClientRect().top?f():0==o.querySelector(".overflow").getBoundingClientRect().top&&p()})),i.addEventListener("scroll",(function(t){0==r.getBoundingClientRect().top&&g();var e=r.getBoundingClientRect().top/(r.clientHeight-window.innerHeight);document.querySelector(".super__text h2").style.marginTop=r.getBoundingClientRect().top/4+"px",document.querySelector(".super__text h2").style.opacity=1+e,s.style.opacity=1+1.5*e,document.querySelector(".super__text-bg").style.transform="translate(-50%, 0) rotate("+150*e+"deg)",document.querySelector(".clouds__image_top-left img").style.marginLeft=.833333*e+"vw",document.querySelector(".clouds__image_top-right img").style.marginLeft=-2.5*e+"vw";var n=document.querySelector(".clouds__image_bottom-left img");n.style.marginLeft=-7*e+"vw",n.style.marginTop=-23*e+"vh",n.style.width=85.5+28*e+"vw";var o=document.querySelector(".clouds__image_bottom-right img");o.style.marginLeft=-8*e+"vw",o.style.marginTop=-22*e+"vh",o.style.width=90+30*e+"vw",document.body.classList.contains("high")?document.getElementById("text-blank").style.left=window.innerWidth+(1.05*window.innerWidth+c)*e+"px":document.getElementById("text-blank").style.left=.5*window.innerHeight+.5*window.innerWidth+(1.05*window.innerWidth+c)*e+"px",document.getElementById("text-solid").style.left=document.getElementById("text-blank").style.left,s.style.visibility=e<-2/3?"hidden":"visible",r.getBoundingClientRect().top==window.innerHeight-r.clientHeight?document.querySelector(".finish").classList.add("visible"):document.querySelector(".finish").classList.contains("visible")&&document.querySelector(".finish").classList.remove("visible"),l.classList.contains("active")||l.classList.contains("end")||(l.style.top=a-(window.innerHeight-80-2*a)*e+"px",l.style.rotate=180*e+"deg"),u.classList.contains("visible")&&i.scrollTop>80&&u.classList.remove("visible")})),s.addEventListener("click",(function(e){t.classList.contains("section-2")?m():t.classList.contains("section-3")?p():t.classList.contains("section-5")&&g(),t.classList.contains("section-1")&&(s.style.opacity=0)})),s.addEventListener("mouseover",(function(e){t.classList.contains("section-5")&&(s.style.opacity=1)})),s.addEventListener("mouseleave",(function(e){t.classList.contains("section-5")&&(s.style.opacity=1+r.getBoundingClientRect().top/(r.clientHeight-window.innerHeight)*1.5)})),document.addEventListener("click",(function(e){e.target.closest(".button-back")||e.target.closest(".drag__button")||(t.classList.contains("section-1")?d():t.classList.contains("section-2")?y():t.classList.contains("section-3")&&f()),e.target.closest(".finish__button")&&location.reload()})),l.onmousedown=function(t){var e=t.clientY-l.getBoundingClientRect().top;l.classList.add("active"),l.style.transition="none",document.onmousemove=function(t){!function(t){if(l.classList.contains("active")){var n,o=(l.getBoundingClientRect().top-a)/(window.innerHeight-2*a-80);n=o<0?-1*o:o,i.scrollTop=(r.clientHeight-window.innerHeight)*n+5,l.style.rotate=-180*n+"deg",l.getBoundingClientRect().bottom>window.innerHeight-a+5?l.style.top=window.innerHeight-a-80:l.getBoundingClientRect().top<a-5?l.style.top=a:l.style.top=t.clientY-e+"px"}}(t)},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,l.style.transition="0.3s",l.classList.add("end"),setTimeout((function(){l.classList.remove("end")}),"300"),l.classList.contains("active")&&l.classList.remove("active"),l.getBoundingClientRect().top>=window.innerHeight/2-40?(l.style.top=window.innerHeight-80-a+"px",l.style.rotate="-180deg",i.scrollTo({top:r.clientHeight-window.innerHeight,behavior:"smooth"})):(l.style.top=a+"px",l.style.rotate="0deg",i.scrollTo({top:1,behavior:"smooth"}))}},l.ondragstart=function(){return!1},i.addEventListener("mousedown",(function(e){t.classList.contains("section-5")&&i.scrollTop<=10&&!e.target.closest(".button-back")&&!e.target.closest(".drag__button")&&u.classList.toggle("visible")}))),document.documentElement.classList.contains("touch")){var v,b=document.querySelector(".tall-icecream__mobile-tip");document.ontouchstart=function(e){v=e.targetTouches[0].clientY,document.ontouchend=function(e){if(!e.target.closest(".button-back")){var n=e.changedTouches[0].clientY;v>=n?t.classList.contains("section-1")?d():t.classList.contains("section-2")?y():t.classList.contains("section-3")&&f():t.classList.contains("section-2")?m():t.classList.contains("section-3")?p():t.classList.contains("section-5")&&i.scrollTop<=5&&g()}}},s.addEventListener("click",(function(e){t.classList.contains("section-2")?m():t.classList.contains("section-3")?p():t.classList.contains("section-5")&&(g(),b.classList.contains("visible")&&b.classList.remove("visible")),t.classList.contains("section-1")&&(s.style.opacity=0)})),i.addEventListener("scroll",(function(t){var e=i.scrollTop/(r.clientHeight-window.innerHeight);document.querySelector(".super__text h2").style.marginTop=-i.scrollTop/4+"px",document.querySelector(".super__text h2").style.opacity=1-e,document.querySelector(".super__text-bg").style.transform="translate(-50%, 0) rotate("+150*e+"deg)",s.style.opacity=1-1.5*e,s.style.visibility=e>2/3?"hidden":"visible",document.body.classList.contains("high")?document.getElementById("text-blank").style.left=window.innerWidth-(1.05*window.innerWidth+c)*e+"px":document.getElementById("text-blank").style.left=.5*window.innerHeight+.5*window.innerWidth-(1.5*window.innerWidth+c)*e+"px",document.getElementById("text-solid").style.left=document.getElementById("text-blank").style.left,i.scrollTop>=r.clientHeight-1.2*window.innerHeight?document.querySelector(".finish").classList.add("visible"):document.querySelector(".finish").classList.contains("visible")&&document.querySelector(".finish").classList.remove("visible"),i.scrollTop>10&&b.classList.contains("visible")&&b.classList.remove("visible"),document.querySelector(".clouds__image_top-left img").style.marginLeft=-15*e+"vw",document.querySelector(".clouds__image_top-right img").style.marginLeft=30*e+"vw";var n=document.querySelector(".clouds__image_bottom-left img"),o=document.querySelector(".clouds__image_bottom-right img");n.style.marginTop=5*e+"vh",document.body.classList.contains("high")?(n.style.width=120+20*e+"vh",o.style.width=90+30*e+"vh"):(n.style.width=120+20*e+"vw",o.style.width=90+30*e+"vw")})),document.querySelector(".finish__button").addEventListener("click",(function(t){location.reload()})),i.addEventListener("touchstart",(function(e){t.classList.contains("section-5")&&i.scrollTop<=10&&!e.target.closest(".button-back")&&b.classList.toggle("visible")})),window.addEventListener("scroll",(function(e){!t.classList.contains("section-5")&&b.classList.contains("visible")&&b.classList.remove("visible")}))}}}],null&&_(e.prototype,null),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function A(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,B(o.key),o)}}function B(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==k(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===k(e)?e:String(e)}const q=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"windowHeight",value:function(){var t=window.innerHeight;document.documentElement.style.setProperty("--windowHeight",t+"px")}}],null&&A(e.prototype,null),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();v.checkWebpSupport(),v.addTouchClass(),v.addLoadedClass(),v.headerFixed(),S.documentEventListener(),T.navigation(),q.windowHeight(),document.documentElement.classList.contains("pc")&&new n})();